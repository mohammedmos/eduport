System.register(["./chunk-frameworks.js","./chunk-vendor.js","./chunk-toast.js","./chunk-ref-selector.js"],function(At,T){"use strict";var ne,x,se,b,oe,re,ie,ae,ce,le,ue,$,de,me,pe,A,fe,ge,he,p,d,F,P,f,B,be,D;return{setters:[function(a){ne=a.o,x=a.l,se=a.q,b=a.c,oe=a.U,re=a.aZ,ie=a.e,ae=a.a_,ce=a.r,le=a.a$,ue=a.h,$=a.E,de=a.y,me=a.aW,pe=a.a8,A=a.R,fe=a.b0,ge=a.b1,he=a.w},function(a){p=a.o,d=a.a,F=a.r,P=a.k,f=a.t,B=a.c,be=a.f},function(a){D=a.t},function(){}],execute:function(){var a=Object.defineProperty,at=(e,t)=>a(e,"name",{value:t,configurable:!0});p(".js-issue-row .js-issues-list-check:checked",{add(e){e.closest(".js-issue-row").classList.add("selected")},remove(e){e.closest(".js-issue-row").classList.remove("selected")}}),d("navigation:keydown",".js-issue-row",function(e){!x(e.detail.originalEvent)||e.detail.hotkey==="x"&&(ve(e.currentTarget),e.preventDefault(),e.stopPropagation())}),ne("#js-issues-search",function(e){const t=e;t.value=t.value});function ve(e){const t=e.querySelector(".js-issues-list-check");t instanceof HTMLInputElement&&se(t,!t.checked)}at(ve,"toggleRowCheckbox");var ct=Object.defineProperty,L=(e,t)=>ct(e,"name",{value:t,configurable:!0});const O=new WeakMap,N=new WeakMap;async function ye(e){if(re(e))return;const t=e.getAttribute("data-url"),n=await ie(document,t);ae(document,()=>{e.replaceWith(n)})}L(ye,"refreshIssueList"),p(".js-milestone-issues",{subscribe:e=>b(e,"socket:message",async function(t){const n=t.currentTarget,s=t.detail.data,o=n.querySelector(".js-milestone-issues-container");if(N.has(o)){N.delete(o);return}await oe();const r=document.querySelector(".js-client-uid");r instanceof HTMLInputElement&&r.value===s.client_uid||ye(n)})}),F(".js-milestone-sort-form",async function(e,t){const s=(await t.json()).json,o=e.querySelector(".js-milestone-reorder-feedback");o.textContent="",s.error?e.querySelector(".js-milestone-changed").classList.remove("d-none"):(e.querySelector(".js-timestamp").value=s.updated_at,o.textContent=o.getAttribute("data-success-text")||"")});function je(e,t){return e.querySelectorAll(".js-draggable-issue")[t]}L(je,"milestoneIssueAt");const H=P(function(e){const{newIndex:t,item:n}=e,s=n.closest(".js-milestone-issues-container"),o=n.getAttribute("data-id")||"",r=je(s,t-1),i=r&&r.getAttribute("data-id"),l=s.closest(".js-milestone-sort-form");l.querySelector(".js-item-id").value=o,l.querySelector(".js-prev-id").value=i||"",N.set(s,!0),ce(l)},200);function R(e,t){H({oldIndex:void 0,item:t,newIndex:Array.from(e.querySelectorAll(".js-draggable-issue")).indexOf(t),trackingLabel:"keyboard-shortcut"}),le(t.closest(".js-navigation-container"),t)}L(R,"updateManually"),d("click",".js-draggable-issue .js-sortable-button",async function({currentTarget:e}){const{moveWithButton:t}=await T.import("./chunk-sortable-behavior.js");t(e,e.closest(".js-draggable-issue"),H)}),d("navigation:keydown",".js-draggable-issues-container .js-draggable-issue",function(e){if(!x(e.detail.originalEvent))return;const t=e.currentTarget,n=t.closest(".js-draggable-issues-container");if(e.detail.hotkey==="J"){const s=t.nextElementSibling;s&&(s.after(t),R(n,t),e.preventDefault(),e.stopPropagation())}else if(e.detail.hotkey==="K"){const s=t.previousElementSibling;s&&(s.before(t),R(n,t),e.preventDefault(),e.stopPropagation())}});async function ke(e){if(O.has(e))return;const{Sortable:t}=await T.import("./chunk-sortable-behavior.js"),n=t.create(e,{animation:150,item:".js-draggable-issue",handle:".js-drag-handle",onUpdate:H,chosenClass:"is-dragging"});O.set(e,n)}L(ke,"setupSortable");function Se(e){const t=O.get(e);t&&t.destroy()}L(Se,"removeSortable"),p(".js-draggable-issues-container",{add:ke,remove:Se});var lt=Object.defineProperty,ut=(e,t)=>lt(e,"name",{value:t,configurable:!0});function W(e){const t=e.currentTarget;if(!(t instanceof HTMLElement))return;const n=t.querySelector(".js-milestone-edit-cancel"),s=n.getAttribute("data-confirm-changes");!s||(ue(t)?n.setAttribute("data-confirm",s):n.removeAttribute("data-confirm"))}ut(W,"enableBehaviour"),d("change",".js-milestone-edit-form",W),d("click",".js-milestone-edit-form",W);var dt=Object.defineProperty,we=(e,t)=>dt(e,"name",{value:t,configurable:!0});let U,K=null;function qe(e){const{item:t,oldIndex:n}=e;K=t.parentNode.children[n+1]}we(qe,"handleStart");async function X(e){const{oldIndex:t,newIndex:n,item:s}=e;if(t===n)return;const o=s.closest(".js-pinned-issues-reorder-form"),i=o.closest(".js-pinned-issues-reorder-container").querySelector(".js-pinned-issues-spinner");if(i.style.display="inline-block",U.option("disabled",!0),(await fetch(o.action,{method:o.method,body:new FormData(o),headers:{"X-Requested-With":"XMLHttpRequest"}})).ok)i.style.display="none",U.option("disabled",!1);else{const u=s.parentNode;K?u.insertBefore(s,K):u.appendChild(s)}}we(X,"handleUpdate"),p(".js-pinned-issues-reorder-list",{async add(e){const{Sortable:t}=await T.import("./chunk-sortable-behavior.js");U=t.create(e,{animation:150,item:".js-pinned-issue-list-item",handle:".js-pinned-issue-reorder",onUpdate:X,onStart:qe,chosenClass:"is-dragging"})}}),d("submit",".js-pinned-issues-reorder-form",function(e){e.preventDefault()}),d("click",".js-pinned-issue-list-item .js-sortable-button",async function({currentTarget:e}){const t=e,{moveWithButton:n}=await T.import("./chunk-sortable-behavior.js");n(t,t.closest(".js-pinned-issue-list-item"),X)});var mt=Object.defineProperty,k=(e,t)=>mt(e,"name",{value:t,configurable:!0});let z=null;const pt=null;async function Ae(){const e=document.querySelector(".js-quick-pull-new-branch-name"),t=e.value,n=e.getAttribute("data-generated-branch"),s=document.querySelector(".js-quick-pull-normalization-info"),o=new FormData;o.append("ref",t);const r=e.getAttribute("data-check-url"),i=e.parentElement.querySelector(".js-data-check-url-csrf");z==null||z.abort();const{signal:l}=z=new AbortController;try{const u=await fetch(r,{mode:"same-origin",method:"POST",body:o,headers:{Accept:"application/json","Scoped-CSRF-Token":i.value,"X-Requested-With":"XMLHttpRequest"}});if(u.ok){const m=await u.json();if(t!==e.value)return;const w=m.normalized_ref;if(s.innerHTML=m.message_html==null?"":m.message_html,!w){const q=s.querySelector("code");q.textContent=n}}}catch(u){}l.aborted||t===e.value}k(Ae,"updateTargetBranch");const ft=P(Ae,200);p(".js-template-form .js-issue-labels",{add(e){const t=e.closest(".js-issue-template-labels-container");if(!t)return;const n=t.querySelector(".js-issue-template-labels");n.value="";for(const s of e.children){const o=s.getAttribute("data-name");o&&!n.value.includes(o)&&(n.value===""?n.value=o:n.value=`${n.value}, ${o}`)}}}),p(".js-template-form .js-issue-assignees",{add(e){const n=e.closest(".js-issue-template-assignees-container").querySelector(".js-issue-template-assignees");n.value="";for(const s of e.children){const o=s.querySelector("span");if(o){const r=o.getAttribute("data-assignee-name");r&&!n.value.includes(r)&&(n.value===""?n.value=r:n.value=`${n.value}, ${r}`)}}}}),d("change",".js-quick-pull-choice-option",function(e){if(!V())return;const t=e.currentTarget;document.querySelector(".js-quick-pull-new-branch-name").toggleAttribute("required",t.value==="quick-pull")}),$(".js-quick-pull-new-branch-name",function(e){if(!V())return;const n=e.target.value,s=document.querySelector(".js-quick-pull-target-branch");s.value=n,n.length&&ft()}),$(".js-synced-template-input",function(e){const t=e.target,n=t.getAttribute("data-sync");if(!n)return;const s=t.closest(".js-sync-container"),o=s.querySelectorAll(`[data-sync-with="${n}"]`),r=t.value;if(r.trim()===""){for(const i of o){const l=i.getAttribute("data-sync-blank");l&&(i.innerHTML=`<span class="color-fg-muted">${l}</span>`)}return}for(const i of o)i.textContent=t.value;if(n==="name"){const i=s.querySelector(".js-sync-filename");i.value=`${r.replace(/[^\w]/g,"-")}.md`.toLowerCase()}});function V(){return document.querySelectorAll(".js-template-editor").length>0}k(V,"isUsingTemplateEditor");function Le(){const e=document.querySelectorAll(".js-template-preview");for(const t of e)t.classList.remove("expand-preview")}k(Le,"collapseAllPreviews");function J(){return document.querySelectorAll(".js-template-form.is-loading").length>0?"loading":document.querySelectorAll(".js-template-form.is-errored").length>0?"error":"ok"}k(J,"templateEditorState");function E(){const e=document.querySelector(".js-commit-templates-form"),t=e.querySelector(".js-blob-submit"),n=document.querySelector(".js-template-commit-form-error-message"),s=document.querySelector(".js-template-commit-form-loading-message");switch(J()){case"loading":n.classList.add("d-none"),s.classList.remove("d-none"),e.setAttribute("disabled","disabled"),t.setAttribute("disabled","disabled");break;case"error":n.classList.remove("d-none"),s.classList.add("d-none"),e.setAttribute("disabled","disabled"),t.setAttribute("disabled","disabled");break;default:n.classList.add("d-none"),s.classList.add("d-none"),e.removeAttribute("disabled"),t.removeAttribute("disabled")}}k(E,"syncCommitFormWithTemplateValidity");async function _(e){e.classList.add("is-loading"),E();const t=e.querySelector('[name="filename"]').value,n={};for(const m of document.querySelectorAll(".js-template-form")){const w=m.querySelector('[name="filename"]').value;n[w]={};const q=new FormData(m);for(const[wt,qt]of q.entries())n[w][wt]=qt.toString()}const s=new FormData(e);s.append("current",t),s.append("templates",JSON.stringify(n));const o=await fetch(e.action,{method:"POST",body:s,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok)return;const r=await o.json(),i=de(document,r.html);e.closest(".js-template-preview").replaceWith(i);const l=document.querySelector(".js-hidden-template-fields"),u=l.querySelector(`[data-filename="${r.filename}"]`);if(u instanceof HTMLInputElement)u.value=r.markdown;else{const m=document.createElement("input");m.type="hidden",m.name=`templates[][${r.filename}]`,m.setAttribute("data-filename",r.filename),m.value=r.markdown,l.append(m)}e.classList.remove("is-loading"),E()}k(_,"fetchPreview");function Z(){for(const e of document.querySelectorAll(".js-template-form"))_(e)}k(Z,"validateAllTemplateForms"),d("submit",".js-template-form",function(e){e.preventDefault();const t=e.currentTarget;_(t)}),d("click",".js-toggle-template-commit",function(){const e=document.querySelector(".js-template-commit-pane");e.classList.toggle("d-none"),e.classList.contains("d-none")||Z()}),d("submit",".js-commit-templates-form",function(e){J()!=="ok"&&e.preventDefault(),E()}),d("click",".js-refresh-template-content",async function(e){const t=e.currentTarget,n=t.closest(".js-template-form"),s=n.querySelector(".js-template-content-preview");s.innerHTML='<span class="color-fg-muted">Loading preview...</span>';const o=n.querySelector(".js-template-content-textarea").value,r=t.getAttribute("data-markdown-preview-url");if(!r)return;const i=t.parentElement.querySelector(".js-data-markdown-preview-url-csrf"),l=new FormData;l.append("markdown",o);const u=await fetch(r,{mode:"same-origin",method:"POST",body:l,headers:{"Scoped-CSRF-Token":i.value,"X-Requested-With":"XMLHttpRequest"}});if(!u.ok)return;const m=await u.text();s.innerHTML=m}),d("click",".js-custom-template-toggle",e=>{const n=e.target.closest(".js-template-preview"),s=!n.classList.contains("expand-preview");if(Le(),s)n.classList.add("expand-preview"),n.scrollIntoView({behavior:"smooth",block:"start"});else{const o=n.querySelector(".js-template-form");_(o)}}),d("click",".js-remove-template-button",function(e){const t=e.target.closest(".js-template-preview"),n=t.getAttribute("data-filename"),s=document.querySelector(".js-hidden-template-fields"),o=document.querySelector(".js-toggle-template-commit"),r=s.querySelector(`[data-filename="${n}"]`);r&&r.remove(),o.disabled=!1,t.remove(),Z()}),d("click",".js-edit-custom-field-header",function(e){e.target.closest(".js-custom-field-header").classList.toggle("section-focus");const n=document.querySelector(".js-toggle-template-commit");n.disabled=!1}),d("details-menu-selected",".js-add-template",function(e){const t=document.querySelector(".js-templates-container"),n=document.querySelector(".js-toggle-template-commit"),s=e.detail.relatedTarget.value;if(!s)return;n.disabled=!1;const o=document.getElementById(s);t.append(o.content.cloneNode(!0))},{capture:!0});var Te=Object.defineProperty,gt=Object.getOwnPropertyDescriptor,ht=(e,t)=>Te(e,"name",{value:t,configurable:!0}),I=(e,t,n,s)=>{for(var o=s>1?void 0:s?gt(t,n):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(o=(s?i(t,n,o):i(o))||o);return s&&o&&Te(t,n,o),o};let S=class extends HTMLElement{attributeChangedCallback(e,t,n){t===null||t===n||(this.timer&&cancelAnimationFrame(this.timer),this.timer=requestAnimationFrame(()=>this.update(t==="0"&&n!=="0")))}update(e){const t=Number(this.getAttribute("data-completed")||0),n=Number(this.getAttribute("data-total")||0);if(this.label.textContent=this.getLabelContent(t,n),this.progress&&n>0){const s=Number(this.progress.getAttribute("data-circumference")||0),o=t/n*100,r=Math.round(s-o/100*s).toString();this.progress.children[1].setAttribute("stroke-dashoffset",r),t===0?(this.progress.parentElement.style.display="none",this.checklist.style.display="flex"):e&&(this.progress.parentElement.style.display="flex",this.checklist.style.display="none")}}getLabelContent(e,t){return e>0?e===t?`${this.pluralizeTasks(t)} done`:`${e} of ${this.pluralizeTasks(t)}`:this.pluralizeTasks(t)}pluralizeTasks(e){return e===1?"1 task":`${e} tasks`}};ht(S,"TrackedIssuesProgressElement"),S.observedAttributes=["data-total","data-completed"],I([f],S.prototype,"label",2),I([f],S.prototype,"progress",2),I([f],S.prototype,"checklist",2),S=I([B],S);var bt=Object.defineProperty,v=(e,t)=>bt(e,"name",{value:t,configurable:!0});const G=new WeakMap,Q=new WeakMap;d("change",".js-issues-list-check",function(){const e=!!document.querySelector(".js-issues-list-check:checked");document.querySelector("#js-issues-toolbar").classList.toggle("triage-mode",e);for(const t of document.querySelectorAll(".js-issue-triage-menu"))G.set(t,!0)}),d("toggle",".js-issue-triage-menu",Ee,{capture:!0}),d("details-menu-selected",".js-issue-triage-menu details-menu",xe,{capture:!0});function Ee(e){const t=e.currentTarget;t.hasAttribute("open")?_e(t):Me(t)}v(Ee,"toggleMenu");function _e(e){if(!G.has(e))return;const t=document.querySelector(".js-triage-loader-template"),n=e.querySelector(".js-triage-deferred-content");n.innerHTML="",n.append(t.content.cloneNode(!0));const s=Pe(e.getAttribute("data-url"),Fe());n.querySelector("include-fragment").setAttribute("src",s),G.delete(e)}v(_e,"loadMenu");function Ie(e,t){const n=e.closest(".js-issues-toolbar-triage");n.querySelector(".js-issue-triage-spinner").hidden=!t,n.querySelector(".js-issue-triage-error").hidden=!0}v(Ie,"toggleLoading");function Ce(e,t){const n=e.closest(".js-issues-toolbar-triage");n.querySelector(".js-issue-triage-spinner").hidden=!0,n.querySelector(".js-issue-triage-error").hidden=!t}v(Ce,"toggleError");async function Me(e){const t=e.querySelector("form");if(!!Q.has(t)){Ie(e,!0);try{const n=await fetch(t.action,{method:t.method,body:new FormData(t),headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!n.ok){const o=new Error,r=n.statusText?` ${n.statusText}`:"";throw o.message=`HTTP ${n.status}${r}`,o}const s=await n.json();Q.delete(t),await me(s.job.url,{headers:{accept:"application/json"}}),pe({url:window.location.href,container:document.querySelector("#js-repo-pjax-container"),replace:!0})}catch(n){Ce(e,!0)}}}v(Me,"submitMenu");function xe(e){const t=e.detail.relatedTarget,n=t.closest("form"),s=$e(t),o=n.querySelector(".js-issues-triage-fields"),r=o.querySelector(`[name='${s.name}']`);r?r.replaceWith(s):o.append(s),Q.set(n,!0)}v(xe,"selectItem");function $e(e){const t=e.getAttribute("aria-checked")==="true",n=e.getAttribute("name")||e.getAttribute("data-name"),s=e.getAttribute("value")||e.getAttribute("data-value"),o=document.createElement("input");switch(o.type="hidden",o.name=n,e.getAttribute("role")){case"menuitem":case"menuitemradio":o.value=s;break;case"menuitemcheckbox":o.value=t?s:"0";break}return o}v($e,"createInput");function Fe(){return Array.from(document.querySelectorAll(".js-issues-list-check:checked")).map(e=>[e.name,e.value])}v(Fe,"checkedIssues");function Pe(e,t){const n=new URL(e,window.location.origin),s=new URLSearchParams(n.search);for(const[o,r]of t)s.append(o,r);return n.search=s.toString(),n.toString()}v(Pe,"menuUrl"),F(".js-undo-issue-event-form",async(e,t)=>{await t.text();const n=e.getAttribute("action");e.remove();const s=document.querySelectorAll(`.js-undo-issue-event-form[action="${n}"]`);for(let o=0;o<s.length;o++)s[o].remove()});var vt=Object.defineProperty,c=(e,t)=>vt(e,"name",{value:t,configurable:!0}),g;(function(e){e.NONE="",e.ALT="alt",e.META="meta"})(g||(g={}));let y=g.NONE;const yt=navigator.userAgent.match(/Macintosh/),Be=new WeakMap;p(".js-convert-task-to-issue-enabled .comment-body",{add(e){const t=Oe(e);Ke(e,t);const n=new AbortController;Be.set(e,n),De(e,n.signal)},remove(e){const t=Be.get(e);t&&t.abort()}}),p(".enabled.task-list-item",{subscribe:e=>A(b(e,"mouseenter",Ye),b(e,"mouseleave",Qe))}),p(".js-convert-to-issue-button",{subscribe:e=>A(b(e,"click",Ne))}),p(".js-convert-task-to-issue-enabled .task-list-item-checkbox",{subscribe:e=>A(b(e,"focus",C),b(e,"blur",M))}),p(".js-convert-task-to-issue-enabled .js-issue-link",{subscribe:e=>A(b(e,"focus",C),b(e,"blur",M))});function De(e,t){const n=e,s=Array.from(n.querySelectorAll("button.convert-to-issue-button"));window.addEventListener("keydown",o=>{!He(o)||(y=g.META,o.altKey&&(y=g.ALT),Y(s))},{signal:t}),window.addEventListener("keyup",()=>{ee(),Y(s)},{signal:t})}c(De,"addModifierKeyEventListener");function Y(e){const t=document.querySelector(".js-convert-task-to-issue-enabled");if(!t)return;const n=t.querySelector(".js-convert-task-to-issue-data"),s=n.getAttribute("data-tooltip-label-inline"),o=n.getAttribute("data-tooltip-label-open"),r=n.getAttribute("data-tooltip-label-open-same-tab");for(const i of e)y===g.ALT?i.setAttribute("aria-label",r):y===g.META?i.setAttribute("aria-label",o):i.setAttribute("aria-label",s)}c(Y,"updateTooltips");function Oe(e){return Array.from(e.querySelectorAll("ul.contains-task-list > li"))}c(Oe,"getTaskListItems");function jt(e){y=e}c(jt,"setModifierKey");function Ne(e){const n=e.currentTarget.closest("li.plain-task-item");if(!n||n.classList.contains("is-loading"))return;const s=document.querySelector(".js-convert-task-to-issue-enabled");s&&(s.disabled=!0);const o=n.getAttribute("data-title"),r=n.getAttribute("data-position");if(y!==g.NONE){Re(e,s,o,r);return}fe(s),We(n);const i=document.getElementById("js-inline-convert-to-issue-title"),l=document.getElementById("js-inline-convert-to-issue-position");i.value=o,l.value=r;const u=document.querySelector(".js-inline-convert-to-issue-form");u&&u instanceof HTMLFormElement&&et(u,s,n)}c(Ne,"onConvertToIssueButtonClicked");function He(e){return e.altKey||e.ctrlKey&&e.shiftKey||e.shiftKey||e.metaKey}c(He,"isModifierKeyPressed");function Re(e,t,n,s){const o=t.querySelector(".js-convert-task-to-issue-data"),r=o.getAttribute("data-url"),i=o.getAttribute("data-parent-issue-number"),l=`${r}?convert_from_task=true&parent_issue_number=${i}&title=${encodeURIComponent(n)}&position=${s}`;y===g.ALT?window.open(`${l}&click_type=current_tab`,"_self","noopener,noreferrer"):window.open(`${l}&click_type=new_tab`,"_blank","noopener,noreferrer"),ee()}c(Re,"handleOpenNewIssueLink");function ee(){y=g.NONE}c(ee,"resetModifierKey");function We(e){var t;e.classList.add("is-loading");const n=e.querySelector("input[type='checkbox']"),s=document.querySelector(".js-convert-task-to-issue-spinner").cloneNode(!0);s.removeAttribute("hidden"),(t=n.parentNode)==null||t.insertBefore(s,n.nextSibling);const o=e.querySelector("button");o.hidden=!0}c(We,"markItemAsLoading");function Ue(e){if(!e)return;e.classList.remove("is-loading");const t=e.querySelector(".loading-spinner");e.removeChild(t)}c(Ue,"unmarkItemAsLoading");function Ke(e,t){for(const n of t){if(Je(n))return;const s=n.querySelector("ul, ol");if(s&&n.classList.add("pb-0"),n.classList.add("position-relative","border-right-0"),ze(n)||Ve(n)||!Ze(n))continue;n.classList.add("plain-task-item");const o=Xe();let r="";if(s){for(const q of n.childNodes)q.nodeType===Node.TEXT_NODE&&(r+=q.nodeValue);n.insertBefore(o,s)}else n.classList.add("pr-6"),r=Ge(n),n.appendChild(o);const i=r.trim(),l=nt(n).toString();n.setAttribute("data-title",i),n.setAttribute("data-position",l);const u=document.createElement("span");u.hidden=!0,u.className="js-clear",n.appendChild(u);const m=`Press Enter to convert to an issue instantly. Press ${yt?"Option":"Alt"}-Enter to open the create new issue form in the current tab. Press Shift-Enter to open the create new issue form.`;u.textContent=`Create an issue with the title ${i}. ${m}`;const w=l.replace(/,/,"-");u.id=`button-description-${w}`,o.setAttribute("aria-describedby",`button-description-${w}`)}}c(Ke,"decorateItems");function Xe(){var e;const t=(e=document.querySelector(".js-convert-to-issue-button"))==null?void 0:e.cloneNode(!0);return t.removeAttribute("hidden"),t.addEventListener("focus",C),t.addEventListener("blur",M),t}c(Xe,"createConvertButton");function ze(e){return e.querySelectorAll(":scope > span > .js-issue-link").length!==0||e.querySelectorAll(":scope > p > span > .js-issue-link").length!==0}c(ze,"hasIssueMentions");function Ve(e){return e.querySelectorAll(":scope > span > .js-security-alert-link").length!==0}c(Ve,"hasSecurityAlertMentions");function Je(e){return!!e.querySelector("button.convert-to-issue-button")}c(Je,"hasConvertButton");function Ze(e){return!!e.classList.contains("task-list-item")}c(Ze,"isTaskListItem");function Ge(e){return e.innerHTML.replace(/<(?!\/?code)[^>]+>|\n/g,"").replace(/<\/?code>/g,"`").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#96;/g,"`").replace(/&#x27;/g,"'").replace(/&apos;/g,"'").trim()}c(Ge,"textContentWithTitleMarkdown");function Qe(e){var t,n;const s=e.target;if(!s)return;(t=s.parentElement)==null||t.classList.remove("hovered"),s.classList.remove("hovered");const o=(n=s.parentElement)==null?void 0:n.closest(".enabled.task-list-item");o==null||o.classList.add("hovered")}c(Qe,"onMouseleave");function Ye(e){var t;const n=e.target;if(!n)return;const s=(t=n.parentElement)==null?void 0:t.closest(".enabled.task-list-item");s==null||s.classList.remove("hovered"),n.classList.add("hovered")}c(Ye,"onMouseenter");function C(e){var t;const n=e.target;if(!n)return;const s=(t=n.parentElement)==null?void 0:t.closest(".enabled.task-list-item");s==null||s.classList.add("hovered")}c(C,"onChildElementFocus");function M(e){var t;const n=e.target;if(!n)return;const s=(t=n.parentElement)==null?void 0:t.closest(".enabled.task-list-item");s==null||s.classList.remove("hovered")}c(M,"onChildElementBlur");async function et(e,t,n){let s,o;try{s=await fetch(e.action,{method:e.method,body:new FormData(e),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),o=await s.json()}catch(r){}tt(),s&&!s.ok?o?(te(o),ge(t),Ue(n)):te():o&&he(`${o.title} was converted to an issue.`)}c(et,"submitConvertToIssueForm");function te(e){if((e==null?void 0:e.url)&&(e==null?void 0:e.url_title)){const s=document.querySelector(".js-convert-to-issue-update-error-toast").content.firstElementChild.querySelector("a");s.href=e.url,s.textContent=e.url_title,D(document.querySelector(".js-convert-to-issue-update-error-toast").innerHTML)}else D(document.querySelector(".js-convert-to-issue-save-error-toast").innerHTML)}c(te,"showErrorToast");function tt(){const e=document.getElementById("js-inline-convert-to-issue-title"),t=document.getElementById("js-inline-convert-to-issue-position");e.value="",t.value=""}c(tt,"resetFormFields");function nt(e){const t=st(e);if(!t)throw new Error(".contains-task-list not found");const n=e?Array.from(t.children).indexOf(e):-1;return[ot(t),n]}c(nt,"position");function st(e){const t=e.parentElement;return t?t.closest(".contains-task-list"):null}c(st,"taskList");function ot(e){const t=e.closest("task-lists");if(!t)throw new Error("parent not found");return Array.from(t.querySelectorAll("ol, ul")).indexOf(e)}c(ot,"listIndex");var rt=Object.defineProperty,kt=Object.getOwnPropertyDescriptor,St=(e,t)=>rt(e,"name",{value:t,configurable:!0}),j=(e,t,n,s)=>{for(var o=s>1?void 0:s?kt(t,n):t,r=e.length-1,i;r>=0;r--)(i=e[r])&&(o=(s?i(t,n,o):i(o))||o);return s&&o&&rt(t,n,o),o};const it="label.js-create-branch-from-issue-source-branch";d("click",it,e=>{const t=e.currentTarget;if(!t)return;const n=document.querySelector(".js-selected-branch"),s=t.querySelector("input");n.textContent=s.value;const o=t.closest("details");o.open=!1;for(const r of o.querySelectorAll(it))r.setAttribute("aria-checked",r===t?"true":"false")});let h=class extends HTMLElement{set error(e){this.errorContainer.innerHTML=e||""}set result(e){this.resultContainer.innerHTML=e||""}set submitting(e){this.spinner.style.display=e?"inline":"none"}openDialog(e){e.preventDefault();const t=this.details;t.open=!0,t.hidden=!1,t.removeAttribute("aria-hidden")}closeDialog(){const e=this.form;e.reset(),e.hidden=!1;const t=this.details;t.hidden=!0,t.setAttribute("aria-hidden","true"),this.error=null,this.result=null}async submit(e){var t;e.preventDefault(),this.submitting=!0;const n=this.form,s=await fetch(n.action,{method:n.method,body:new FormData(n)}),o=await s.text();s.ok?(this.error=null,n.hidden=!0,this.result=o):this.error=o,this.submitting=!1;const r=this.developmentForm;r&&be(r,"submit");const i=(t=this.desktopLink)==null?void 0:t.href;i&&window.location.replace(i)}};St(h,"CreateIssueBranchElement"),j([f],h.prototype,"form",2),j([f],h.prototype,"developmentForm",2),j([f],h.prototype,"spinner",2),j([f],h.prototype,"errorContainer",2),j([f],h.prototype,"details",2),j([f],h.prototype,"resultContainer",2),j([f],h.prototype,"desktopLink",2),h=j([B],h)}}});
//# sourceMappingURL=issues-26f8fcf1.js.map
